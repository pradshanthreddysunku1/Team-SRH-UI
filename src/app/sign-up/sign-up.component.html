

<main>

<div class="row mt-80">
  <div class="col-xxl-8 offset-xxl-2 col-xl-8 offset-xl-2">
    <div class="section__title-wrapper text-center mb-25">
      <h2 class="section__title">Sign up  </h2>
        <p>Please fill in this form to create your account!</p>
    </div>
  </div>
</div>

  <!-- sign up area start -->
  <section class="signup__area p-relative z-index-1 pb-145">

    <div class="container">

      <div class="row">
        <div class="col-xxl-6 offset-xxl-3 col-xl-6 offset-xl-3 col-lg-8 offset-lg-2">
          <div class="sign__wrapper white-bg">


            <div class="sign__form">
              <form [formGroup]="signUpForm">
                <div class="sign__input-wrapper mb-25">
                  <h5>Last Name</h5>
                  <div class="sign__input">
                    <input type="text" placeholder="Last Name" formControlName="lastName"
                      [ngClass]="{ 'error': (fields_signUp_form['lastName'].touched && fields_signUp_form['lastName'].invalid) || (fields_signUp_form['lastName'].touched && fields_signUp_form['lastName'].errors?.['minlength'] ) ,'success':fields_signUp_form['lastName'].touched && fields_signUp_form['lastName'].valid }">

                  </div>
                  <div class="text-left error-container">
                    <small *ngIf="fields_signUp_form['lastName'].touched && fields_signUp_form['lastName'].invalid"
                      class="error-msg">
                      <span *ngIf="fields_signUp_form['lastName'].errors?.['required']">Last Name is mandotory</span>
                    </small>
                    <small
                      *ngIf="fields_signUp_form['lastName'].touched && fields_signUp_form['lastName'].errors?.['minlength'] "
                      class="error-msg">
                      <span>Last Name must have minimum 2 character</span>
                    </small>
                  </div>

                </div>
                <div class="sign__input-wrapper mb-25">
                  <h5>First Name</h5>
                  <div class="sign__input">
                    <input type="text" placeholder="First Name" formControlName="firstName"
                      [ngClass]="{ 'error': (fields_signUp_form['firstName'].touched && fields_signUp_form['firstName'].invalid) || (fields_signUp_form['firstName'].touched && fields_signUp_form['firstName'].errors?.['minlength']),'success':fields_signUp_form['firstName'].touched && fields_signUp_form['firstName'].valid }">

                  </div>
                  <div class="text-left error-container">
                    <small *ngIf="fields_signUp_form['firstName'].touched && fields_signUp_form['firstName'].invalid"
                      class="error-msg">
                      <span *ngIf="fields_signUp_form['firstName'].errors?.['required']">First Name
                        is mandatory</span>
                    </small>
                    <small
                      *ngIf="fields_signUp_form['firstName'].touched && fields_signUp_form['firstName'].errors?.['minlength'] "
                      class="error-msg">
                      <span>First Name must have 2 minimum characters</span>
                    </small>

                  </div>

                </div>
                <div class="sign__input-wrapper mb-25">
                  <h5>Username</h5>
                  <div class="sign__input">
                    <input type="text" placeholder="Username" formControlName="userName"
                      [ngClass]="{ 'error': (fields_signUp_form['userName'].touched && fields_signUp_form['userName'].invalid) || (fields_signUp_form['userName'].touched && fields_signUp_form['userName'].errors?.['minlength']),'success':fields_signUp_form['userName'].touched && fields_signUp_form['userName'].valid }">

                  </div>
                  <div class="text-left error-container">
                    <small *ngIf="fields_signUp_form['userName'].touched && fields_signUp_form['userName'].invalid"
                      class="error-msg">
                      <span *ngIf="fields_signUp_form['userName'].errors?.['required']">Username is mandatory</span>
                    </small>
                    <small
                      *ngIf="fields_signUp_form['userName'].touched && fields_signUp_form['userName'].errors?.['minlength'] "
                      class="error-msg">
                      <span>Username must have atleast 2 characters</span>
                    </small>

                  </div>
                </div>

                <div class="sign__input-wrapper mb-25">
                  <h5>Email</h5>
                  <div class="sign__input">
                    <input type="text" placeholder="Email" formControlName="email"
                      [ngClass]="{ 'error':fields_signUp_form['email'].touched && fields_signUp_form['email'].invalid ,'success':fields_signUp_form['email'].touched && fields_signUp_form['email'].valid }">

                  </div>
                  <div class="text-left error-container">
                    <div *ngIf="fields_signUp_form['email'].errors">
                      <p class="text-left mb-0">
                        <span
                          *ngIf="fields_signUp_form['email'].touched && fields_signUp_form['email'].errors?.['required']"
                          class="error-msg">Email
                          is mandatory
                        </span>
                        <span
                          *ngIf="fields_signUp_form['email'].touched && signUpForm.get('email')?.hasError('emailExists')"
                          class="error-msg">
                          An account already exists with this Email
                        </span>
                        <span
                          *ngIf="(fields_signUp_form['email'].touched && fields_signUp_form['email'].invalid) && !signUpForm.get('email')?.hasError('emailExists') || (fields_signUp_form['email'].touched && fields_signUp_form['email'].errors?.['pattern']) "
                          class="error-msg">
                          Enter a valid Email
                        </span>
                      </p>

                    </div>
                  </div>

                </div>

                <ng-template #popTemplate>
                  <div class="text-left" *ngIf="fields_signUp_form['password'].errors || disPlayErrors">

                    <span
                      *ngIf="(fields_signUp_form['password'].touched && fields_signUp_form['password'].invalid) || (fields_signUp_form['password'].touched && fields_signUp_form['password'].errors?.['pattern']) || disPlayErrors "
                      class="error-msg">
                      <span>
                        <strong class="text-header text-dark">Your password must include :</strong>
                      </span>

                      <br>

                      <span
                        [ngClass]="signUpForm.get('password')?.hasError('hasCapitalCase') || signUpForm.get('password')?.hasError('required') ? 'text-dark' : 'text-success'">

                        1
                        Uppercase letter
                      </span>
                      <br>
                      <span
                        [ngClass]="signUpForm.get('password')?.hasError('hasSmallCase') || signUpForm.get('password')?.hasError('required') ? 'text-dark' : 'text-success'">

                        1 Lowercase letter
                      </span>
                      <br>
                      <span
                        [ngClass]="signUpForm.get('password')?.hasError('hasNumber') || signUpForm.get('password')?.hasError('required') ? 'text-dark' : 'text-success'">

                        1 digit
                      </span>
                      <br>
                      <span
                        [ngClass]="signUpForm.get('password')?.hasError('hasSpecialCharacters') || signUpForm.get('password')?.hasError('required') ? 'text-dark' : 'text-success'">

                        1 special character
                      </span>
                      <br>
                      <span
                        [ngClass]="signUpForm.get('password')?.hasError('minlength') || signUpForm.get('password')?.hasError('required') ? 'text-dark' : 'text-success'">

                        Minimum of 8 character length
                      </span>

                    </span>

                  </div>
                </ng-template>

                <div class="sign__input-wrapper mb-25">
                  <h5>Password</h5>
                  <div class="sign__input">
                    <span id="eye-show" *ngIf="show_button" (click)="showPassword()">Hide</span>
                      <span id="eye-hide" *ngIf="!show_button" (click)="showPassword()">Show</span>
                    <!-- <i id="eye-show" *ngIf="show_button" class="far fa-eye" (click)="showPassword()"></i>
                    <i id="eye-hide" *ngIf="!show_button" class="far fa-eye-slash" (click)="showPassword()"></i> -->

                    <input [type]="show_button ? 'text' : 'password'" name="password"
                      (change)="onPasswordChange()" [popover]="popTemplate" triggers="focus" placement="top"
                      (focus)="disPlayErrors=true" (focusout)="disPlayErrors=false" placeholder="password"
                      formControlName="password"
                      [ngClass]="{ 'error':fields_signUp_form['password'].touched && fields_signUp_form['password'].invalid, 'success':fields_signUp_form['password'].touched && fields_signUp_form['password'].valid }">

                  </div>
                  <div class="text-left error-container" *ngIf="fields_signUp_form['password'].errors || disPlayErrors">
                    <small *ngIf="fields_signUp_form['password'].touched && fields_signUp_form['password'].invalid"
                      class="error-msg">
                      <span *ngIf="fields_signUp_form['password'].errors?.['required']">password is mandatory</span>
                    </small>
                    <small class="error-msg">
                      <span
                        *ngIf="(signUpForm.get('password')?.hasError('hasCapitalCase') || signUpForm.get('password')?.hasError('hasSmallCase') || signUpForm.get('password')?.hasError('hasNumber') || signUpForm.get('password')?.hasError('hasSpecialCharacters') || signUpForm.get('password')?.hasError('minlength')) && fields_signUp_form['password'].touched">
                        your password is incorrect
                      </span>
                    </small>
                  </div>
                </div>
                <div class="sign__input-wrapper mb-20">
                  <h5>confirm password</h5>
                  <div class="sign__input">
                    <input type="password"  [ngClass]="{ 'error':fields_signUp_form['confirmPassword'].touched && fields_signUp_form['confirmPassword'].hasError('mismatch') ,'success':fields_signUp_form['confirmPassword'].touched && !fields_signUp_form['confirmPassword'].hasError('mismatch') }"  (change)="onPasswordChange()" placeholder="confirm password" formControlName="confirmPassword">


                  </div>
                  <span class="error-msg" *ngIf="fields_signUp_form['confirmPassword'].hasError('mismatch')">passwords does not match</span>
                </div>
                <button class="tp-btn w-100" [disabled]="signUpForm.invalid " (click)="signUp()"> <span></span> create account</button>
                <div class="sign__new text-center mt-20">
                  <p>Already a member ? <a routerLink="/sign-in"> sign-in</a></p>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- sign up area end -->


</main>
